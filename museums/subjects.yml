---
header:
  title: Museums
  nav_logo: https://2.bp.blogspot.com/-2Hv5x1P0fNg/WhUiDq1EVdI/AAAAAAABIPs/eAidlXO5zqI2o9A2wlOWaNsJE3Nnx_7HQCLcBGAs/s400/job_gakugeiin_man.png
  media_path: ""
  width: 100%
  style: /template/styles.css
  script: museums.js
data:

  _global:
    style_main: /template/styles.css
  map:
    subject: Map
    id: map
    default: true
    title: US Museum Store Map
    sub_title: US Map of each state with museums with online stores
    width: 100%
    content: >
      <div id='map_data'>
        <div id='museums'>
        </div>
      </div>
    style_content: >
      #content {
        width: min-content;
        border: solid 1px;
        height: 100%;
        overflow-y: auto;
        position: absolute;
        right: 0;
        top: 10em;
      }

    content_map: ./usmap/map.html
    script_click: >
      $('path').on('click touchend', function(e) {
        e.preventDefault();
        
        let state = $(this).data('info').match(/State: (.*?)</i)[1].toLowerCase();
        $(`#museums`).html('')
        Museums[state].museums.forEach((museum, m) => {
          $(`#museums`).append(`
            <div id="museum${m}">
                <a href="${museum.link}">${museum.name}</a>
            </div>
            `);
            if (museum.store_links.length > 0) {
                let store_list = "<ul>";
                museum.store_links.forEach(link => {
                    store_list += `<li><a href="${link}">${link}</a></li>`;
                });
                store_list += "</ul>";
                $(`#museum${m}`).append(store_list);
            }
        });
      });
  list:
    subject: List
    id: list
    title: All US Museums
    sub_title: List of all US art museums that I've found
    width: 100%
    content: >
      <div id='museums'></div>
    script_load_list: >
      Object.keys(Museums).forEach(state => {
        let state_list = $(`<div id="${state}-list" class="s-list"></div>`);
        for(let i = 0; i < Museums[state].museums.length; i++) {
      
          let museum = Museums[state].museums[i];
          let museum_link = $(`<div id="${state}-m-${i}" class="m-data">${museum.name}</div>`);
          for(let ii = 0; ii < museum.store_links.length; ii++) {
            museum_link.append(`<a href="${museum.store_links[ii]}">${museum.store_links[ii]}</a>`);
          }
          state_list.append(museum_link);
        }

        $('#museums').append(state_list);
      });